(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4779feec"],{"08e3":function(e,t,a){"use strict";var r=a("7429"),s=a.n(r);s.a},"13f9":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"call"},[a("el-form",{ref:"callForm",staticClass:"call-form",attrs:{model:e.callForm,rules:e.callRules}},[a("el-form-item",{staticClass:"search-model",attrs:{label:"",prop:"region"}},[a("el-select",{attrs:{placeholder:e.$t("call.call1")},on:{change:e.changeModel},model:{value:e.callForm.modelValue,callback:function(t){e.$set(e.callForm,"modelValue",t)},expression:"callForm.modelValue"}},e._l(e.callForm.modelData,(function(e){return a("el-option",{key:e.keys,attrs:{label:e.name,value:e.keys}})})),1)],1),e._l(e.callForm.parameterList,(function(t,r){return a("el-form-item",{key:t.name,attrs:{label:t.name,prop:"parameterList."+r+".value",rules:{required:t.required,message:t.name+e.$t("call.call2"),trigger:"blur"}}},[a("el-input",{model:{value:t.value,callback:function(a){e.$set(t,"value","string"===typeof a?a.trim():a)},expression:"domain.value"}})],1)})),e.selectionData.view?e._e():a("div",{staticClass:"div-senior"},[a("el-form-item",{staticClass:"senior",attrs:{label:e.$t("call.call3")}},[a("el-switch",{model:{value:e.callForm.senior,callback:function(t){e.$set(e.callForm,"senior",t)},expression:"callForm.senior"}})],1),e.callForm.senior?a("div",{staticClass:"senior-div"},[a("el-form-item",{attrs:{label:"Gas Limit",prop:"gas"}},[a("el-input",{model:{value:e.callForm.gas,callback:function(t){e.$set(e.callForm,"gas",t)},expression:"callForm.gas"}})],1),a("el-form-item",{attrs:{label:"Price",prop:"price"}},[a("el-input",{model:{value:e.callForm.price,callback:function(t){e.$set(e.callForm,"price",t)},expression:"callForm.price"}})],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.selectionData.payable,expression:"selectionData.payable"}],attrs:{label:"Value",prop:"values"}},[a("el-input",{model:{value:e.callForm.values,callback:function(t){e.$set(e.callForm,"values",t)},expression:"callForm.values"}})],1),a("el-form-item",{attrs:{label:e.$t("public.remarks"),prop:"addtion"}},[a("el-input",{attrs:{type:"textarea",rows:3,maxlength:"200","show-word-limit":""},model:{value:e.callForm.addtion,callback:function(t){e.$set(e.callForm,"addtion",t)},expression:"callForm.addtion"}})],1)],1):e._e()],1),a("el-form-item",{staticClass:"search-submit"},[a("el-button",{attrs:{type:"success"},on:{click:function(t){return e.submitCallContract("callForm")}}},[e._v(e._s(e.$t("contract.contract4")))])],1)],2),a("div",{staticClass:"cb"}),e.callResult?a("div",{staticClass:"w630 bg-gray wordwrap result"},[e._v("\n    "+e._s(e.callResult)+"\n  ")]):e._e(),a("Password",{ref:"password",on:{passwordSubmit:e.confirmCall}})],1)},s=[],l=(a("96cf"),a("3b8d")),o=(a("7f7f"),a("ac4d"),a("8a81"),a("ac6a"),a("c5f6"),a("b8d7")),n=a.n(o),i=a("e065"),c=a.n(i),u=a("1959"),d=a("d1f0"),m=a("6ace"),p=a("db49"),h=a("bc3a"),f=a.n(h),w={data:function(){var e=this,t=function(t,a,r){a?a<1?(e.callForm.gas=1,r()):a>1e7?(e.callForm.gas=1e7,r()):r():r()},a=function(t,a,r){a?a<n.a.CONTRACT_MINIMUM_PRICE?(e.callForm.price=n.a.CONTRACT_MINIMUM_PRICE,r()):r():(e.callForm.price=n.a.CONTRACT_MINIMUM_PRICE,r())},r=function(t,a,r){a<0?e.callForm.values=0:r()};return{first:0,addressInfo:{},balanceInfo:{},callForm:{modelData:[],modelValue:"",parameterList:[],senior:!1,gas:0,price:0,values:0,addtion:""},callRules:{gas:[{validator:t,trigger:["blur","change"]}],price:[{validator:a,trigger:"blur"}],values:[{validator:r,trigger:"blur"}]},selectionData:{view:!0,payable:!1},contractCallData:{},callResult:"",defaultAddress:""}},props:{modelList:Array,contractAddress:String,decimals:Number},components:{Password:d["a"]},created:function(){this.addressInfo.address=localStorage.getItem(Object(m["e"])()),this.addressInfo.address&&this.getBalanceByAddress(Object(m["d"])(),1,this.addressInfo.address)},mounted:function(){var e=this;setInterval((function(){e.defaultAddress=localStorage.getItem(Object(m["e"])())}),500)},watch:{modelList:function(e){this.callForm.modelData=e},addressInfo:function(e,t){e.address!==t.address&&t.address&&this.getBalanceByAddress(Object(m["d"])(),1,this.addressInfo.address)}},methods:{changeModel:function(e){this.callResult="",this.callForm.parameterList=[];var t=!0,a=!1,r=void 0;try{for(var s,l=this.callForm.modelData[Symbol.iterator]();!(t=(s=l.next()).done);t=!0){var o=s.value;o.keys===e&&(this.selectionData=o,this.callForm.parameterList=o.params,this.callForm.values=0,this.callForm.gas=0,this.callForm.price=0)}}catch(n){a=!0,r=n}finally{try{t||null==l.return||l.return()}finally{if(a)throw r}}},changeParameter:function(){this.selectionData.view||this.chainMethodCall()},submitCallContract:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;if(t.selectionData.view){var a=[];t.callForm.parameterList.length>0?(a=Object(m["i"])(t.callForm.parameterList,t.decimals),a.allParameter&&t.methodCall(t.contractAddress,t.selectionData.name,t.selectionData.desc,a.args)):t.methodCall(t.contractAddress,t.selectionData.name,t.selectionData.desc,a)}else t.chainMethodCall(t.showPassword)}))},showPassword:function(){this.$refs.password.showPassword(!0)},methodCall:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t,a,r,s){var l=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:p["e"].method="invokeContractViewMethod",p["e"].params=[Object(m["d"])(),t,a,r,s],f.a.post(p["d"],p["e"]).then((function(e){e.data.hasOwnProperty("result")?l.callResult=e.data.result.methodReturn:l.$message({message:l.$t("call.call8")+e.data.error.message,type:"error",duration:2e3})})).catch((function(e){l.$message({message:l.$t("call.call9")+e,type:"error",duration:2e3})}));case 3:case"end":return e.stop()}}),e)})));function t(t,a,r,s){return e.apply(this,arguments)}return t}(),chainMethodCall:function(e){var t=[];this.callForm.price=n.a.CONTRACT_MINIMUM_PRICE,this.callForm.parameterList.length>0?(t=Object(m["i"])(this.callForm.parameterList,this.decimals),t.allParameter&&this.validateContractCall(this.addressInfo.address,Number(Object(m["b"])(this.callForm.values,1e8)),n.a.CONTRACT_MAX_GASLIMIT,n.a.CONTRACT_MINIMUM_PRICE,this.contractAddress,this.selectionData.name,this.selectionData.desc,t.args,e)):this.validateContractCall(this.addressInfo.address,Number(Object(m["b"])(this.callForm.values,1e8)),n.a.CONTRACT_MAX_GASLIMIT,n.a.CONTRACT_MINIMUM_PRICE,this.contractAddress,this.selectionData.name,this.selectionData.desc,t,e)},validateContractCall:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t,a,r,s,l,o,n,i,c){var u=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return p["e"].method="validateContractCall",p["e"].params=[Object(m["d"])(),t,a,r,s,l,o,n,i],e.abrupt("return",f.a.post(p["d"],p["e"]).then((function(e){e.data.hasOwnProperty("result")&&e.data.result.success?u.imputedContractCallGas(t,a,l,o,n,i,c):u.$message({message:u.$t("call.call6")+e.data.error.message,type:"error",duration:2e3})})).catch((function(e){u.$message({message:u.$t("call.call7")+e,type:"error",duration:2e3})})));case 3:case"end":return e.stop()}}),e)})));function t(t,a,r,s,l,o,n,i,c){return e.apply(this,arguments)}return t}(),imputedContractCallGas:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t,a,r,s,l,o,n){var i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return p["e"].method="imputedContractCallGas",p["e"].params=[Object(m["d"])(),t,a,r,s,l,o],e.abrupt("return",f.a.post(p["d"],p["e"]).then((function(e){if(e.data.hasOwnProperty("result")){i.callForm.gas=e.data.result.gasLimit;var u=i.getContractMethodArgsTypes(r,s),d=c.a.twoDimensionalArray(o,u);i.contractCallData={chainId:Object(m["d"])(),sender:t,contractAddress:r,value:a,gasLimit:i.callForm.gas,price:i.callForm.price,methodName:s,methodDesc:l,args:d},n instanceof Function&&n()}else i.$message({message:i.$t("call.call4")+e.data.error.message,type:"error",duration:2e3})})).catch((function(e){i.$message({message:i.$t("call.call5")+e,type:"error",duration:2e3})})));case 3:case"end":return e.stop()}}),e)})));function t(t,a,r,s,l,o,n){return e.apply(this,arguments)}return t}(),getContractMethodArgsTypes:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return p["e"].method="getContractMethodArgsTypes",p["e"].params=[Object(m["d"])(),t,a],e.abrupt("return",f.a.post(p["d"],p["e"]).then((function(e){return e.data.hasOwnProperty("result")?{success:!0,data:e.data.result}:{success:!1,data:e.data.error}})).catch((function(e){return{success:!1,data:e}})));case 3:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}(),getBalanceByAddress:function(e,t,a){var r=this;Object(u["b"])(e,t,a).then((function(e){e.success?r.balanceInfo=e.data:r.$message({message:r.$t("public.err2")+e,type:"error",duration:2e3})})).catch((function(e){console.log(e),r.$message({message:r.$t("public.err3")+e,type:"error",duration:2e3})}))},callContract:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t,a,r,s,l,o,n,i,c,u,d,h){var w=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:p["e"].method="callContract",p["e"].params=[Object(m["d"])(),t,a,r,s,l,o,n,i,c,u,d,h],f.a.post(p["d"],p["e"]).then((function(e){e.data.hasOwnProperty("result")?w.callResult=w.$t("call.call11")+e.data.result.txHash:w.$message({message:w.$t("call.call12")+e.data.error.message,type:"error",duration:2e3})})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})));function t(t,a,r,s,l,o,n,i,c,u,d,m){return e.apply(this,arguments)}return t}(),confirmCall:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=[],this.callForm.parameterList.length>0?(r=Object(m["i"])(this.callForm.parameterList),r.allParameter&&this.callContract(Object(m["d"])(),1,this.addressInfo.address,t,this.contractAddress,Number(Object(m["b"])(this.callForm.values,1e8)),this.selectionData.name,this.selectionData.desc,r.args,this.callForm.gas,this.callForm.price,this.callForm.addtion)):this.callContract(Object(m["d"])(),1,this.addressInfo.address,t,this.contractAddress,Number(Object(m["b"])(this.callForm.values,1e8)),this.selectionData.name,this.selectionData.desc,a,this.callForm.gas,this.callForm.price,this.callForm.addtion);case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}},v=w,g=(a("08e3"),a("2877")),b=Object(g["a"])(v,r,s,!1,null,null,null);t["a"]=b.exports},"188a":function(e,t,a){},7429:function(e,t,a){},7672:function(e,t,a){"use strict";var r=a("188a"),s=a.n(r);s.a},d1f0:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"password-dialog",attrs:{title:e.$t("password.password1"),visible:e.passwordVisible,top:"30vh",width:"30rem","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.passwordVisible=t},open:e.passwordShow,close:e.passwordClose}},[a("el-form",{ref:"passwordForm",attrs:{model:e.passwordForm,rules:e.passwordRules},nativeOn:{submit:function(e){e.preventDefault()}}},[a("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[e._v(e._s(e.$t("password.password1")))]),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{ref:"inpus",attrs:{type:"password",maxlength:22},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.enterSubmit("passwordForm")}},model:{value:e.passwordForm.password,callback:function(t){e.$set(e.passwordForm,"password",t)},expression:"passwordForm.password"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.passwordClose}},[e._v(e._s(e.$t("password.password2")))]),a("el-button",{attrs:{type:"success",id:"passwordInfo"},on:{click:function(t){return e.dialogSubmit("passwordForm")}}},[e._v(e._s(e.$t("password.password3"))+"\n    ")])],1)],1)},s=[],l={props:{},data:function(){var e=function(e,t,a){a()};return{passwordVisible:!1,passwordForm:{password:""},passwordRules:{password:[{validator:e,trigger:["blur","change"]}]}}},created:function(){},mounted:function(){},watch:{passwordVisible:function(e){e&&setTimeout((function(){}),200)}},methods:{enterSubmit:function(e){this.passwordForm.password&&this.dialogSubmit(e)},passwordShow:function(){},passwordClose:function(){this.$refs["passwordForm"].resetFields(),this.passwordVisible=!1},showPassword:function(e){this.passwordVisible=e},dialogSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;t.$emit("passwordSubmit",t.passwordForm.password),t.passwordVisible=!1}))}}},o=l,n=(a("7672"),a("2877")),i=Object(n["a"])(o,r,s,!1,null,null,null);t["a"]=i.exports},e065:function(e,t,a){"use strict";function r(e){return null===e?null:e.toString()}function s(e){return null===e||0===e.trim.length}e.exports={stringToByte:function(e){var t=[],a=void 0,r=void 0;a=e.length;for(var s=0;s<a;s++)r=e.charCodeAt(s),r>=65536&&r<=1114111?(t.push(r>>18&7|240),t.push(r>>12&63|128),t.push(r>>6&63|128),t.push(63&r|128)):r>=2048&&r<=65535?(t.push(r>>12&15|224),t.push(r>>6&63|128),t.push(63&r|128)):r>=128&&r<=2047?(t.push(r>>6&31|192),t.push(63&r|128)):t.push(255&r);return t},twoDimensionalArray:function(e,t){if(0===e.length)return null;for(var a=e.length,l=new Array(a),o=void 0,n=0;n<a;n++)if(o=e[n],null!=o)if("String"===typeof o){var i=o;null!=t&&s(i)&&"String"!==t[n]?l[n]=[]:l[n]=[i]}else if(Array.isArray(o)){for(var c=o.length,u=new Array[c],d=0;d<c;d++)u[d]=r(o[d]);l[n]=u}else l[n]=[r(o)];else l[n]=[];return l}}}}]);
//# sourceMappingURL=chunk-4779feec.cf2b080b.js.map