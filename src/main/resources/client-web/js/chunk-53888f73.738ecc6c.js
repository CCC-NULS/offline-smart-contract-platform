(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-53888f73"],{"033b":function(s,t,e){"use strict";var a=e("e0a2"),r=e.n(a);r.a},"188a":function(s,t,e){},"2e64":function(s,t,e){"use strict";var a=e("ff03"),r=e.n(a);r.a},7672:function(s,t,e){"use strict";var a=e("188a"),r=e.n(a);r.a},b301:function(s,t,e){"use strict";var a=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"back",attrs:{backUrl:s.backUrl}},[e("span",{staticClass:"back-box",on:{click:s.back}},[e("i",{staticClass:"el-icon-arrow-left"}),e("span",[s._v(s._s(s.backTitle))])])])},r=[],n={props:{backTitle:{type:String,default:""},backUrl:{type:String,default:"1"},backParams:{type:String,default:""}},methods:{back:function(){"1"===this.backUrl?this.$router.go(-1):this.$router.push({name:this.backUrl})}}},i=n,o=(e("2e64"),e("2877")),l=Object(o["a"])(i,a,r,!1,null,null,null);t["a"]=l.exports},d1f0:function(s,t,e){"use strict";var a=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("el-dialog",{staticClass:"password-dialog",attrs:{title:s.$t("password.password1"),visible:s.passwordVisible,top:"30vh",width:"30rem","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){s.passwordVisible=t},open:s.passwordShow,close:s.passwordClose}},[e("el-form",{ref:"passwordForm",attrs:{model:s.passwordForm,rules:s.passwordRules},nativeOn:{submit:function(s){s.preventDefault()}}},[e("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[s._v(s._s(s.$t("password.password1")))]),e("el-form-item",{attrs:{prop:"password"}},[e("el-input",{ref:"inpus",attrs:{type:"password",maxlength:22},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&s._k(t.keyCode,"enter",13,t.key,"Enter")?null:s.enterSubmit("passwordForm")}},model:{value:s.passwordForm.password,callback:function(t){s.$set(s.passwordForm,"password",t)},expression:"passwordForm.password"}})],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:s.passwordClose}},[s._v(s._s(s.$t("password.password2")))]),e("el-button",{attrs:{type:"success",id:"passwordInfo"},on:{click:function(t){return s.dialogSubmit("passwordForm")}}},[s._v(s._s(s.$t("password.password3"))+"\n    ")])],1)],1)},r=[],n={props:{},data:function(){var s=function(s,t,e){e()};return{passwordVisible:!1,passwordForm:{password:""},passwordRules:{password:[{validator:s,trigger:["blur","change"]}]}}},created:function(){},mounted:function(){},watch:{passwordVisible:function(s){s&&setTimeout(function(){},200)}},methods:{enterSubmit:function(s){this.passwordForm.password&&this.dialogSubmit(s)},passwordShow:function(){},passwordClose:function(){this.$refs["passwordForm"].resetFields(),this.passwordVisible=!1},showPassword:function(s){this.passwordVisible=s},dialogSubmit:function(s){var t=this;this.$refs[s].validate(function(s){if(!s)return!1;t.$emit("passwordSubmit",t.passwordForm.password),t.passwordVisible=!1})}}},i=n,o=(e("7672"),e("2877")),l=Object(o["a"])(i,a,r,!1,null,null,null);t["a"]=l.exports},e0a2:function(s,t,e){},eb26:function(s,t,e){"use strict";e.r(t);var a=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"new_address bg-gray"},[e("div",{staticClass:"bg-white"},[e("div",{staticClass:"w1200"},[e("BackBar",{attrs:{backTitle:s.$t("address.address0")}}),e("h3",{staticClass:"title"},[s._v(s._s(s.$t("setAlias.setAlias0")))])],1)]),e("div",{staticClass:"new w1200 mt_20 bg-white"},[e("div",{staticClass:"w630"},[e("h3",{staticClass:"tc mzt_20"},[s._v(s._s(this.$route.query.address))]),e("div",{staticClass:"tip bg-gray"},[e("p",[s._v("• "+s._s(s.$t("setAlias.setAlias1"))+s._s(s.addressInfo.symbol)+s._s(s.$t("setAlias.setAlias11")))]),e("p",[s._v("• "+s._s(s.$t("setAlias.setAlias2"))+s._s(s.addressInfo.symbol))])]),e("el-form",{ref:"aliasForm",staticClass:"mb_20",attrs:{model:s.aliasForm,"status-icon":"",rules:s.aliasRules}},[e("el-form-item",{attrs:{label:s.$t("public.alias"),prop:"alias"}},[e("span",{staticClass:"balance font12 fr"},[s._v(s._s(s.$t("public.usableBalance"))+"："+s._s(s.addressInfo.balance))]),e("el-input",{attrs:{type:"text",maxlength:"20",autocomplete:"off"},model:{value:s.aliasForm.alias,callback:function(t){s.$set(s.aliasForm,"alias",t)},expression:"aliasForm.alias"}})],1),e("div",{staticClass:"div-data font14"},[s._v("\n          "+s._s(s.$t("public.fee"))+": "),e("label",[s._v("0.001 "),e("span",{staticClass:"fCN"},[s._v(s._s(s.addressInfo.symbol))])])]),e("el-form-item",{staticClass:"form-next"},[e("el-button",{attrs:{type:"success"},on:{click:function(t){return s.submitAliasForm("aliasForm")}}},[s._v(" "+s._s(s.$t("public.next")))])],1),e("div",{staticClass:"tc font18 mzt_20"},[s._v("\n          "+s._s(s.$t("setAlias.setAlias3"))+": 1.001\n        ")])],1)],1)]),e("Password",{ref:"password",on:{passwordSubmit:s.passSubmit}})],1)},r=[],n=(e("96cf"),e("3b8d")),i=(e("ac4d"),e("8a81"),e("ac6a"),e("0ad0")),o=e.n(i),l=e("1959"),c=e("d1f0"),d=e("b301"),u=e("db49"),p=e("6ace"),f={data:function(){var s=this,t=function(t,e,a){var r=/^(?!_)(?!.*?_$)[a-z0-9_]+$/;""===e?a(new Error(s.$t("setAlias.setAlias4"))):r.exec(e)?a():a(new Error(s.$t("setAlias.setAlias5")))};return{aliasForm:{alias:""},aliasRules:{alias:[{validator:t,trigger:"blur"}]},addressInfo:"",balanceInfo:""}},created:function(){var s=!0,t=!1,e=void 0;try{for(var a,r=Object(p["c"])(0)[Symbol.iterator]();!(s=(a=r.next()).done);s=!0){var n=a.value;n.address===this.$route.query.address&&(this.addressInfo=n)}}catch(i){t=!0,e=i}finally{try{s||null==r.return||r.return()}finally{if(t)throw e}}this.getNulsBalance(Object(p["d"])(),1,this.$route.query.address)},watch:{addressInfo:function(s,t){s.address!==t.address&&t.address&&(this.transferForm.fromAddress=this.addressInfo.address)}},components:{Password:c["a"],BackBar:d["a"]},methods:{submitAliasForm:function(s){var t=this;this.$refs[s].validate(function(s){if(!s)return!1;t.balanceInfo.balance>1001e5?t.$refs.password.showPassword(!0):t.$message({message:t.$t("newConsensus.newConsensus7"),type:"error",duration:1e3})})},getNulsBalance:function(){var s=Object(n["a"])(regeneratorRuntime.mark(function s(t,e,a){var r=this;return regeneratorRuntime.wrap(function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,this.$post("/","getAccountBalance",[t,e,a]).then(function(s){s.hasOwnProperty("result")?r.balanceInfo={balance:s.result.balance,nonce:s.result.nonce}:r.$message({message:r.$t("public.err2")+s,type:"error",duration:1e3})}).catch(function(s){r.$message({message:r.$t("public.err3")+s,type:"error",duration:1e3})});case 2:case"end":return s.stop()}},s,this)}));function t(t,e,a){return s.apply(this,arguments)}return t}(),passSubmit:function(){var s=Object(n["a"])(regeneratorRuntime.mark(function s(t){var e,a,r,n,i,c,d,f,m=this;return regeneratorRuntime.wrap(function(s){while(1)switch(s.prev=s.next){case 0:if(e=o.a.decrypteOfAES(this.addressInfo.aesPri,t),a=o.a.importByKey(Object(p["d"])(),e,t),a.address!==this.addressInfo.address){s.next=19;break}return r=o.a.getAddressByPub(Object(p["d"])(),1,u["a"]),n={fromAddress:this.addressInfo.address,toAddress:r,assetsChainId:Object(p["d"])(),assetsId:1,amount:1e8,fee:1e5},s.next=7,Object(l["c"])(n,this.balanceInfo,3);case 7:return i=s.sent,c={fromAddress:this.addressInfo.address,alias:this.aliasForm.alias},s.next=11,o.a.transactionAssemble(i.data.inputs,i.data.outputs,"",3,c);case 11:return d=s.sent,s.next=14,o.a.transactionSerialize(o.a.decrypteOfAES(this.addressInfo.aesPri,t),this.addressInfo.pub,d);case 14:return f=s.sent,s.next=17,Object(l["e"])(f).then(function(s){s.success?m.toUrl("txList"):m.$message({message:m.$t("error."+s.data.code),type:"error",duration:3e3})}).catch(function(s){m.$message({message:m.$t("public.err0")+s,type:"error",duration:1e3})});case 17:s.next=20;break;case 19:this.$message({message:this.$t("address.address13"),type:"error",duration:1e3});case 20:case"end":return s.stop()}},s,this)}));function t(t){return s.apply(this,arguments)}return t}(),toUrl:function(s){this.$router.push({name:s})}}},m=f,b=(e("033b"),e("2877")),w=Object(b["a"])(m,a,r,!1,null,null,null);t["default"]=w.exports},ff03:function(s,t,e){}}]);
//# sourceMappingURL=chunk-53888f73.738ecc6c.js.map